(this["webpackJsonpreact-todo-list"]=this["webpackJsonpreact-todo-list"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(10),s=n.n(a),i=(n(16),n(9)),u=n(11),o=n(2),l=n.n(o),h=n(3),d=n(4),j=n(0),b=function(e){var t=e.title;return Object(j.jsx)("header",{children:Object(j.jsx)("h2",{children:t})})};b.defaultProps={title:"Default Title"};var f=b,p=n(7),m=function(e){var t=e.newItem,n=e.setNewItem,c=e.handleSubmit,a=Object(r.useRef)();return Object(j.jsxs)("form",{className:"addForm",onSubmit:c,children:[Object(j.jsx)("label",{htmlFor:"addItem",children:"Add Item"}),Object(j.jsx)("input",{autoFocus:!0,ref:a,id:"addItem",type:"text",placeholder:"Add Item",required:!0,value:t,onChange:function(e){return n(e.target.value)}}),Object(j.jsx)("button",{type:"submit","aria-label":"Add Item",onClick:function(){return a.current.focus()},children:Object(j.jsx)(p.a,{})})]})},O=function(e){var t=e.search,n=e.setSearch;return Object(j.jsxs)("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("label",{htmlFor:"search",children:"Search"}),Object(j.jsx)("input",{id:"search",type:"text",role:"searchbox",placeholder:"Search Items",value:t,onChange:function(e){return n(e.target.value)}})]})},x=function(e){var t=e.item,n=e.handleCheck,r=e.handleDelete;return Object(j.jsxs)("li",{className:"item",children:[Object(j.jsx)("input",{type:"checkbox",onChange:function(){return n(t.id)},checked:t.checked}),Object(j.jsx)("label",{style:t.checked?{textDecoration:"line-through"}:null,onDoubleClick:function(){return n(t.id)},children:t.item}),Object(j.jsx)(p.b,{onClick:function(){return r(t.id)},role:"button",tabIndex:"0","aria-label":"Delete ".concat(t.item)})]})},v=function(e){var t=e.items,n=e.handleCheck,r=e.handleDelete;return Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)(x,{item:e,handleCheck:n,handleDelete:r},e.id)}))})},k=function(e){var t=e.items,n=e.handleCheck,r=e.handleDelete;return Object(j.jsx)(j.Fragment,{children:t.length?Object(j.jsx)(v,{items:t,handleCheck:n,handleDelete:r}):Object(j.jsx)("p",{style:{marginTop:"2rem"},children:"Your list is empty."})})},g=function(e){var t=e.length;return Object(j.jsx)("footer",{children:Object(j.jsxs)("p",{children:[t," List ",1===t?"item":"items"]})})},y=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:null,r=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=3,e.next=6,fetch(t,n);case 6:if(e.sent.ok){e.next=9;break}throw Error("Please reload the app");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),r=e.t0.message;case 14:return e.prev=14,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}();var w=function(){var e="http://localhost:3500/items",t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),b=o[0],p=o[1],x=Object(r.useState)(""),v=Object(d.a)(x,2),w=v[0],C=v[1],S=Object(r.useState)(null),D=Object(d.a)(S,2),I=D[0],E=D[1],N=Object(r.useState)(!0),T=Object(d.a)(N,2),F=T[0],L=T[1];Object(r.useEffect)((function(){var t=function(){var t=Object(h.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if((n=t.sent).ok){t.next=6;break}throw Error("Did not receive expected data");case 6:return t.next=8,n.json();case 8:r=t.sent,a(r),E(null),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),E(t.t0.message);case 16:return t.prev=16,L(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})));return function(){return t.apply(this,arguments)}}();setTimeout((function(){return t()}),2e3)}),[]);var A=function(){var t=Object(h.a)(l.a.mark((function t(n){var r,s,i,o,h;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length?c[c.length-1].id+1:1,s={id:r,checked:!1,item:n},i=[].concat(Object(u.a)(c),[s]),a(i),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},t.next=7,y(e,o);case 7:(h=t.sent)&&E(h);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(h.a)(l.a.mark((function t(n){var r,s,u,o,h;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.map((function(e){return e.id===n?Object(i.a)(Object(i.a)({},e),{},{checked:!e.checked}):e})),a(r),s=r.filter((function(e){return e.id===n})),u={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:s[0].checked})},o="".concat(e,"/").concat(n),t.next=7,y(o,u);case 7:(h=t.sent)&&E(h);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(h.a)(l.a.mark((function t(n){var r,s,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.filter((function(e){return e.id!==n})),a(r),s={method:"DELETE"},i="".concat(e,"/").concat(n),t.next=6,y(i,s);case 6:(u=t.sent)&&E(u);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{title:"Grocery List"}),Object(j.jsx)(m,{newItem:b,setNewItem:p,handleSubmit:function(e){e.preventDefault(),b&&(A(b),p(""))}}),Object(j.jsx)(O,{search:w,setSearch:C}),Object(j.jsxs)("main",{children:[F&&Object(j.jsx)("p",{children:"Loading Items..."}),I&&Object(j.jsx)("p",{style:{color:"red"},children:"Error: ".concat(I)}),!I&&!F&&Object(j.jsx)(k,{items:c.filter((function(e){return e.item.toLowerCase().includes(w.toLowerCase())})),handleCheck:J,handleDelete:P})]}),Object(j.jsx)(g,{length:c.length})]})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.dcfd11e5.chunk.js.map